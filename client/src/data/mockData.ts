// Mock data for QA Dashboard

export const builds = [
  {
    id: "1",
    version: "v2.4.1-beta",
    status: "running" as const,
    timestamp: "2 mins ago",
    testsRun: 847,
    testsPassed: 812,
    testsFailed: 35,
  },
  {
    id: "2",
    version: "v2.4.0",
    status: "success" as const,
    timestamp: "4 hours ago",
    testsRun: 892,
    testsPassed: 892,
    testsFailed: 0,
  },
  {
    id: "3",
    version: "v2.3.9",
    status: "failed" as const,
    timestamp: "Yesterday",
    testsRun: 856,
    testsPassed: 741,
    testsFailed: 115,
  },
  {
    id: "4",
    version: "v2.3.8",
    status: "success" as const,
    timestamp: "2 days ago",
    testsRun: 834,
    testsPassed: 834,
    testsFailed: 0,
  },
  {
    id: "5",
    version: "v2.3.7",
    status: "success" as const,
    timestamp: "3 days ago",
    testsRun: 821,
    testsPassed: 819,
    testsFailed: 2,
  },
];

export const bugTrendData = [
  { date: "Mon", bugs: 12, resolved: 8 },
  { date: "Tue", bugs: 19, resolved: 15 },
  { date: "Wed", bugs: 8, resolved: 12 },
  { date: "Thu", bugs: 25, resolved: 20 },
  { date: "Fri", bugs: 15, resolved: 22 },
  { date: "Sat", bugs: 6, resolved: 8 },
  { date: "Sun", bugs: 4, resolved: 5 },
];

export const insights = [
  {
    id: "1",
    type: "critical" as const,
    title: "Payment Module at High Risk",
    description: "3 P1 bugs detected in the last 24 hours. Consider blocking deployment.",
    action: "View Details",
  },
  {
    id: "2",
    type: "warning" as const,
    title: "Test Coverage Declining",
    description: "Coverage dropped from 87% to 82% in the Authentication module.",
    action: "Review Coverage",
  },
  {
    id: "3",
    type: "info" as const,
    title: "Retest Recommendation",
    description: "Based on historical patterns, recommend full regression for User Management.",
    action: "Schedule Retest",
  },
  {
    id: "4",
    type: "success" as const,
    title: "Stability Improved",
    description: "Dashboard module passed 100% of tests for 5 consecutive builds.",
  },
];

export const featureRiskData = [
  {
    id: "1",
    feature: "Payment Processing",
    riskScore: 87,
    riskLevel: "high" as const,
    openBugs: 5,
    p1Bugs: 2,
    p2Bugs: 2,
    p3Bugs: 1,
    lastTested: "2 hours ago",
    retestRecommendation: "Full" as const,
    trend: "up" as const,
  },
  {
    id: "2",
    feature: "User Authentication",
    riskScore: 62,
    riskLevel: "medium" as const,
    openBugs: 3,
    p1Bugs: 0,
    p2Bugs: 2,
    p3Bugs: 1,
    lastTested: "4 hours ago",
    retestRecommendation: "Partial" as const,
    trend: "down" as const,
  },
  {
    id: "3",
    feature: "Dashboard Analytics",
    riskScore: 23,
    riskLevel: "low" as const,
    openBugs: 1,
    p1Bugs: 0,
    p2Bugs: 0,
    p3Bugs: 1,
    lastTested: "1 hour ago",
    retestRecommendation: "None" as const,
    trend: "neutral" as const,
  },
  {
    id: "4",
    feature: "Report Generation",
    riskScore: 71,
    riskLevel: "medium" as const,
    openBugs: 4,
    p1Bugs: 1,
    p2Bugs: 2,
    p3Bugs: 1,
    lastTested: "6 hours ago",
    retestRecommendation: "Full" as const,
    trend: "up" as const,
  },
  {
    id: "5",
    feature: "User Management",
    riskScore: 45,
    riskLevel: "medium" as const,
    openBugs: 2,
    p1Bugs: 0,
    p2Bugs: 1,
    p3Bugs: 1,
    lastTested: "3 hours ago",
    retestRecommendation: "Partial" as const,
    trend: "neutral" as const,
  },
  {
    id: "6",
    feature: "Notification System",
    riskScore: 18,
    riskLevel: "low" as const,
    openBugs: 0,
    p1Bugs: 0,
    p2Bugs: 0,
    p3Bugs: 0,
    lastTested: "30 mins ago",
    retestRecommendation: "None" as const,
    trend: "down" as const,
  },
];

export const testCases = [
  {
    id: "TC-001",
    name: "Verify payment processing with valid card",
    feature: "Payment Processing",
    status: "failed" as const,
    priority: "P1" as const,
    lastRun: "2 hours ago",
    duration: "45s",
    hasScriptIssue: true,
    errorMessage: "Timeout waiting for payment gateway response",
    aiExplanation: "The test is failing due to a network timeout. The payment gateway is taking longer than the configured 30s timeout. Consider increasing timeout or investigating gateway performance.",
  },
  {
    id: "TC-002",
    name: "Validate user session expiry handling",
    feature: "User Authentication",
    status: "passed" as const,
    priority: "P2" as const,
    lastRun: "4 hours ago",
    duration: "12s",
    hasScriptIssue: false,
  },
  {
    id: "TC-003",
    name: "Test dashboard widget loading",
    feature: "Dashboard Analytics",
    status: "passed" as const,
    priority: "P3" as const,
    lastRun: "1 hour ago",
    duration: "8s",
    hasScriptIssue: false,
  },
  {
    id: "TC-004",
    name: "Verify PDF report generation",
    feature: "Report Generation",
    status: "failed" as const,
    priority: "P1" as const,
    lastRun: "6 hours ago",
    duration: "120s",
    hasScriptIssue: true,
    errorMessage: "PDF generation failed: Memory limit exceeded",
    aiExplanation: "The report contains too many data points causing memory overflow. This could be a regression from the recent data aggregation changes. Recommend limiting data range or pagination.",
  },
  {
    id: "TC-005",
    name: "Test multi-currency payment",
    feature: "Payment Processing",
    status: "failed" as const,
    priority: "P2" as const,
    lastRun: "2 hours ago",
    duration: "38s",
    hasScriptIssue: false,
    errorMessage: "Currency conversion rate not found for JPY",
    aiExplanation: "The currency conversion API is returning null for JPY. This appears to be a data issue rather than a code bug. Verify currency rate data source.",
  },
  {
    id: "TC-006",
    name: "Validate user role permissions",
    feature: "User Management",
    status: "passed" as const,
    priority: "P2" as const,
    lastRun: "3 hours ago",
    duration: "15s",
    hasScriptIssue: false,
  },
  {
    id: "TC-007",
    name: "Test email notification delivery",
    feature: "Notification System",
    status: "passed" as const,
    priority: "P3" as const,
    lastRun: "30 mins ago",
    duration: "22s",
    hasScriptIssue: false,
  },
  {
    id: "TC-008",
    name: "Verify login with 2FA enabled",
    feature: "User Authentication",
    status: "flaky" as const,
    priority: "P1" as const,
    lastRun: "4 hours ago",
    duration: "25s",
    hasScriptIssue: true,
    errorMessage: "Intermittent failure: 2FA code validation timeout",
    aiExplanation: "This test is flaky due to timing issues with the 2FA code generator. The mock 2FA service sometimes takes longer than expected. Add retry logic or increase wait time.",
  },
];

export const historicalBugs = [
  {
    id: "BUG-2024-001",
    title: "Payment fails for amounts over $10,000",
    feature: "Payment Processing",
    severity: "P1" as const,
    status: "open" as const,
    build: "v2.4.1-beta",
    createdAt: "2024-01-15",
    assignee: "John D.",
    description: "Large payment transactions are being rejected by the payment gateway.",
  },
  {
    id: "BUG-2024-002",
    title: "Session timeout not respecting user settings",
    feature: "User Authentication",
    severity: "P2" as const,
    status: "in-progress" as const,
    build: "v2.4.0",
    createdAt: "2024-01-14",
    assignee: "Sarah M.",
    description: "Custom session timeout values are being ignored.",
  },
  {
    id: "BUG-2024-003",
    title: "Dashboard charts not loading on Safari",
    feature: "Dashboard Analytics",
    severity: "P3" as const,
    status: "resolved" as const,
    build: "v2.3.9",
    createdAt: "2024-01-12",
    assignee: "Mike R.",
    description: "Chart.js compatibility issue with Safari browser.",
  },
  {
    id: "BUG-2024-004",
    title: "Report export missing header rows",
    feature: "Report Generation",
    severity: "P2" as const,
    status: "open" as const,
    build: "v2.4.1-beta",
    createdAt: "2024-01-15",
    assignee: "Lisa K.",
    description: "Exported Excel reports are missing the header row.",
  },
  {
    id: "BUG-2024-005",
    title: "Memory leak in real-time notifications",
    feature: "Notification System",
    severity: "P1" as const,
    status: "resolved" as const,
    build: "v2.3.8",
    createdAt: "2024-01-10",
    assignee: "Tom H.",
    description: "WebSocket connections not being properly closed.",
  },
  {
    id: "BUG-2024-006",
    title: "User role changes not taking effect immediately",
    feature: "User Management",
    severity: "P2" as const,
    status: "in-progress" as const,
    build: "v2.4.0",
    createdAt: "2024-01-13",
    assignee: "Amy L.",
    description: "Cache invalidation issue causing delayed role updates.",
  },
  {
    id: "BUG-2024-007",
    title: "Duplicate transaction entries in payment log",
    feature: "Payment Processing",
    severity: "P1" as const,
    status: "open" as const,
    build: "v2.4.1-beta",
    createdAt: "2024-01-15",
    assignee: "John D.",
    description: "Race condition causing duplicate log entries.",
  },
  {
    id: "BUG-2024-008",
    title: "Report date filters using wrong timezone",
    feature: "Report Generation",
    severity: "P3" as const,
    status: "resolved" as const,
    build: "v2.3.7",
    createdAt: "2024-01-08",
    assignee: "Lisa K.",
    description: "UTC vs local time mismatch in date filters.",
  },
];

export const features = [
  "All Features",
  "Payment Processing",
  "User Authentication",
  "Dashboard Analytics",
  "Report Generation",
  "User Management",
  "Notification System",
];

export const buildVersions = [
  "All Builds",
  "v2.4.1-beta",
  "v2.4.0",
  "v2.3.9",
  "v2.3.8",
  "v2.3.7",
];

export const severities = ["All", "P1", "P2", "P3"];
export const statuses = ["All", "open", "in-progress", "resolved"];
